<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>psdv-assignment-blog – Exposition Assignment PSDV</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-8e00f2f28a1266a720913de837032221.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-8e00f2f28a1266a720913de837032221.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-7cfa380d139a4d61a924487b0af32b39.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-f3334d8762c99882e0abf45e0a8cc19a.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Exposition Assignment PSDV</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<p><strong>STOP DRAWING START CODING : Automating Architecture Diagrams with mingrammer/diagrams</strong></p>
<p>Ever spent hours perfecting an architecture diagram, only to have one tiny system update throw everything off? Sounds frustrating, right? What if you could generate professional, scalable, and dynamic system diagrams, just by writing a few lines of Python code?</p>
<p><strong>Welcome to mingrammer/diagrams</strong>—a powerful Python library that lets you create cloud, DevOps, and infrastructure diagrams effortlessly!</p>
<ul>
<li><p>No more dragging and tweaking of shapes.</p></li>
<li><p>No more struggling with alignment.</p></li>
<li><p>No more outdated documentation.</p></li>
</ul>
<p>With Diagrams, you can now turn your code into accurate, stunning and professional system diagrams within seconds. In this blog, we’ll explore the following areas:</p>
<ul>
<li><p>Introduction to Diagrams</p></li>
<li><p>Installation setup</p></li>
<li><p>Core features</p></li>
<li><p>Advanced features</p></li>
<li><p>Real-world use cases</p></li>
<li><p>More references</p></li>
<li><p>Conclusion</p></li>
</ul>
<p><strong><em>Prerequisites</em></strong></p>
<p><strong>Python:</strong> This versatile programming language will serve as our trusty companion throughout the process. Ensure to install python version 3.7 or above.</p>
<p><strong><em>Introduction</em></strong></p>
<p>In early 2020, python library Diagrams was created by a Korean developer MinJae Kwon. This Python-based library allows developers to generate professional system diagrams with just few lines of code. With Diagrams, you can create AWS, GCP, Kubernetes, On-Prem, and SaaS infrastructure diagrams programmatically, making it an excellent tool for DevOps engineers, cloud architects, and system designers.</p>
<p><strong>What is Diagrams?</strong></p>
<p>Diagrams is an open-source Python library that allows you to generate architecture diagrams programmatically. Instead of dragging and dropping elements in a diagramming tool, you can write simple Python code to create cloud architecture, microservices, and DevOps pipeline diagrams.</p>
<p><strong>What is “Diagrams as Code”?</strong></p>
<p>The concept of “Diagrams as Code” refers to automating the process of diagram generation using code instead of manually designing visuals. Just like Infrastructure as Code (IaC) automates cloud provisioning, Diagrams as Code makes system documentation easier, scalable, and version-controlled.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 28%">
<col style="width: 43%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Aspect</strong></th>
<th><strong>Manual Approach</strong></th>
<th><strong>Diagrams as Code Approach</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Creation Method</strong></td>
<td>Manually design diagrams using <strong>Visio, Lucidchart, Draw.io</strong></td>
<td>Write <strong>Python scripts</strong> to generate diagrams programmatically</td>
</tr>
<tr class="even">
<td><strong>Maintenance</strong></td>
<td>Difficult to update and maintain when system changes</td>
<td><strong>Easily editable and reusable</strong>—update with code changes</td>
</tr>
<tr class="odd">
<td><strong>Accuracy</strong></td>
<td>Prone to <strong>human errors</strong> and inconsistencies</td>
<td>Ensures <strong>precision and consistency</strong></td>
</tr>
<tr class="even">
<td><strong>Collaboration</strong></td>
<td>Hard to track changes in team projects</td>
<td><strong>Version-controlled</strong> with GitHub/GitLab</td>
</tr>
<tr class="odd">
<td><strong>Automation</strong></td>
<td>No automation—manual updates required</td>
<td><strong>Real-time updates</strong> with automated documentation</td>
</tr>
</tbody>
</table>
<p><strong><em>Now let’s see how to install and setup Diagrams in Python</em></strong></p>
<p><strong>Before installing Diagrams you need to install:</strong></p>
<ul>
<li><p><strong>Python 3.7+</strong> (https://www.python.org/downloads/)</p></li>
<li><p><strong>Graphviz</strong></p></li>
</ul>
<p>Graphviz (Graph Visualization Software) is an open-source tool used for generating diagrams and graphs from text-based descriptions. It is widely used for network diagrams, architecture visualization, dependency graphs, and flowcharts.</p>
<p>Why is Graphviz Important?</p>
<p> Required by Diagrams (mingrammer/diagrams) for rendering visuals.</p>
<p> Automatic layout generation (arranges nodes and edges efficiently).</p>
<p> Supports multiple formats (PNG, SVG, PDF, etc).</p>
<p> Integrates with Python, C, Java, etc.</p>
<p><strong>To Install Graphviz:</strong></p>
<ul>
<li><strong>For Window Users:</strong></li>
</ul>
<ol type="1">
<li><p>Download and install Graphviz.</p></li>
<li><p>Add Graphviz to the system PATH variable. o Open System Properties . o Go to the Advanced tab then Click on the Environment Variables. o Under System Variables, find Path, click Edit. o Add the Graphviz bin directory path, which is usually: C: Files Then Click OK and restart your terminal.</p></li>
<li><p>Check that the Graphviz is installed by running the following code:</p></li>
</ol>
<div id="26a65de7" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pip install Graphviz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: Graphviz in c:\users\priya\appdata\local\programs\python\python310\lib\site-packages (0.20.3)
Note: you may need to restart the kernel to use updated packages.</code></pre>
</div>
</div>
<div id="c942b7f7" class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dot <span class="op">-</span>V</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If Graphviz is installed correctly, you must see the output as follows:</p>
<div id="e3f7ffab" class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dot <span class="op">-</span> Graphviz version <span class="fl">2.49.3</span> (<span class="dv">2025</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span><span class="dv">22</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong>For macOS Users:</strong></li>
</ul>
<p>To install Graphviz by using homebrew run the code:</p>
<div id="25a28428" class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>brew install Graphviz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To check that the Graphviz is installed, run the code:</p>
<div id="dbc90349-a4dd-4a5b-bee7-234996941115" class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>dot –V</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If the output is as follows, then you have istalled Graphviz successfully!</p>
<div id="646d9786-345f-4a43-bec0-3d5999da06c4" class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>dot <span class="op">-</span> Graphviz version <span class="fl">2.49.3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong>For Linux Users:</strong></li>
</ul>
<p>To install the Graphviz using package manager run the following code:</p>
<div id="75bc0af8-3876-4777-b070-e780d53cf40f" class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>Code: sudo apt install Graphviz <span class="co"># Debian/Ubuntu</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>sudo yum install Graphviz <span class="co"># CentOS/RHEL</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>sudo pacman <span class="op">-</span>S Graphviz <span class="co"># Arch Linux</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To check if Graphviz is installed, run the code:</p>
<div id="f6f244b8-a105-4ec9-a59a-facb924a31e9" class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>dot –V</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, you have successfully installed Graphviz! Let’s move on to install Diagram library using pip command.</p>
<p>Run the following code on the terminal:</p>
<div id="65736eea-b3ee-47f1-b648-5c9e1a10ac89" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>pip install diagrams</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Collecting diagrams
  Using cached diagrams-0.24.1-py3-none-any.whl.metadata (6.9 kB)
Requirement already satisfied: graphviz&lt;0.21.0,&gt;=0.13.2 in c:\users\priya\appdata\local\programs\python\python310\lib\site-packages (from diagrams) (0.20.3)
Requirement already satisfied: jinja2&lt;4.0,&gt;=2.10 in c:\users\priya\appdata\roaming\python\python310\site-packages (from diagrams) (3.1.5)
Requirement already satisfied: MarkupSafe&gt;=2.0 in c:\users\priya\appdata\roaming\python\python310\site-packages (from jinja2&lt;4.0,&gt;=2.10-&gt;diagrams) (3.0.2)
Using cached diagrams-0.24.1-py3-none-any.whl (25.1 MB)
Installing collected packages: diagrams
Successfully installed diagrams-0.24.1
Note: you may need to restart the kernel to use updated packages.</code></pre>
</div>
</div>
<p>To upgrade to the latest version of this library run the code:</p>
<div id="30a629e8-75f0-4c90-9872-8338619b9afe" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>pip install <span class="op">--</span>upgrade diagrams</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: diagrams in c:\users\priya\appdata\local\programs\python\python310\lib\site-packages (0.24.1)
Requirement already satisfied: graphviz&lt;0.21.0,&gt;=0.13.2 in c:\users\priya\appdata\local\programs\python\python310\lib\site-packages (from diagrams) (0.20.3)
Requirement already satisfied: jinja2&lt;4.0,&gt;=2.10 in c:\users\priya\appdata\roaming\python\python310\site-packages (from diagrams) (3.1.5)
Requirement already satisfied: MarkupSafe&gt;=2.0 in c:\users\priya\appdata\roaming\python\python310\site-packages (from jinja2&lt;4.0,&gt;=2.10-&gt;diagrams) (3.0.2)
Note: you may need to restart the kernel to use updated packages.</code></pre>
</div>
</div>
<p>To check if Diagrams is installed correctly, run the following code:</p>
<div id="f48e9278-c227-4310-aed5-560a3b8ad83e" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram  </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2  </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Simple Diagram"</span>):  </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    EC2(<span class="st">"my server"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here Simple Diagram is the name of the diagram.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/cf44d89b-9420-4caf-9b1c-04658c2f68fe-1-simple_diagram.png" class="img-fluid figure-img"></p>
<figcaption>simple_diagram.png</figcaption>
</figure>
</div>
<p>If Diagrams is installed successfully then this will generate an image file with single EC2 node drawn as simple_diagram.png in your working directory and open that created image file immediately.</p>
<p><strong><em>Core Features</em></strong></p>
<p>The diagrams library consists of four basic things:</p>
<p><strong>1. Diagram:</strong> This acts as the main container that holds all the elements of your architecture visualization. Think of it as a blueprint where you define configurations for your diagram. However, in most cases, all you need to do is provide a name for your diagram. You can create a diagram context with the Diagram class. The first parameter of the Diagram constructor will be used to generate the output filename.</p>
<p><strong>2. Nodes:</strong> Once we define the Diagram context, the next step is to add Nodes, which are the fundamental elements that represent different services and components in your architecture. A Node can be any resource in the system such as:</p>
<ul>
<li><p>An EC2 instance</p></li>
<li><p>A Lambda function</p></li>
<li><p>An SQS queue</p></li>
<li><p>A Jenkins job, etc.</p></li>
</ul>
<p>Each Node belongs to a specific package within the Diagrams library. You can import them as needed. All these nodes can be assigned to variables as well.</p>
<p><strong>Let’s understand how to use Nodes?</strong></p>
<p>Nodes are imported from different provider categories, such as diagrams.aws.compute, diagrams.onprem.database, etc. A node object consists of three parts: provider, resource type and name. Here is a simple example:</p>
<div id="06809925-481f-448e-96c5-2c0cd061f817" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Simple Diagram"</span>):</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    EC2(<span class="st">"web"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/4240b1f9-1-simple_diagram-2.png" class="img-fluid figure-img"></p>
<figcaption>simple_diagram-2.png</figcaption>
</figure>
</div>
<p>In this example, EC2 is a node of resource type compute which is provided by the aws provider. Other node objects can also used in similar manner.</p>
<div id="21e1b98c-9f62-4ecc-9e6e-9b10b018253b" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.storage <span class="im">import</span> S3</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.compute <span class="im">import</span> Server</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.analytics <span class="im">import</span> Redshift</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"My Design Diagram"</span>) :</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    DataService <span class="op">=</span> Server(<span class="st">"Data Service"</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    S3Storage <span class="op">=</span> S3(<span class="st">"S3 Bucket"</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    MasterDB <span class="op">=</span> Redshift(<span class="st">"Redshift DW"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This code snippet will generate this:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/76fa51a3-e969-46ea-abf8-2cf2fe4b1405-2-my_design_diagram.png" class="img-fluid figure-img"></p>
<figcaption>my_design_diagram.png</figcaption>
</figure>
</div>
<p>Other node objects can also used in similar manner.</p>
<div id="7c51c96a-2f1f-46ab-a505-0230939c702f" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># aws resources</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> ECS, Lambda</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS, ElastiCache</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB, Route53, VPC</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co"># azure resources</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.azure.compute <span class="im">import</span> FunctionApps</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.azure.storage <span class="im">import</span> BlobStorage</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co"># alibaba cloud resources</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.alibabacloud.compute <span class="im">import</span> ECS</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.alibabacloud.storage <span class="im">import</span> ObjectTableStore</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="co"># gcp resources</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.gcp.compute <span class="im">import</span> AppEngine, GKE</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.gcp.ml <span class="im">import</span> AutoML</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="co"># k8s resources</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.k8s.compute <span class="im">import</span> Pod, StatefulSet</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.k8s.network <span class="im">import</span> Service</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.k8s.storage <span class="im">import</span> PV, PVC, StorageClass</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a><span class="co"># oracle resources</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.oci.compute <span class="im">import</span> VirtualMachine, Container</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.oci.network <span class="im">import</span> Firewall</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.oci.storage <span class="im">import</span> FileStorage, StorageGateway</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>****DataFlow****</p>
<p>Data flow can be represented by connecting the nodes with the operators &gt;&gt;, &lt;&lt;, and -.</p>
<p><strong>&gt;&gt;</strong> connects nodes in left to right direction.</p>
<p><strong>&lt;&lt;</strong> connects nodes in right to left direction.</p>
<p><strong>-</strong> connects nodes in no direction. Undirected.</p>
<div id="c07bf037-8737-4465-b740-1287a4e9b55f" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.storage <span class="im">import</span> S3</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Web Services"</span>, show<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    ELB(<span class="st">"lb"</span>) <span class="op">&gt;&gt;</span> EC2(<span class="st">"web"</span>) <span class="op">&gt;&gt;</span> RDS(<span class="st">"userdb"</span>) <span class="op">&gt;&gt;</span> S3(<span class="st">"store"</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    ELB(<span class="st">"lb"</span>) <span class="op">&gt;&gt;</span> EC2(<span class="st">"web"</span>) <span class="op">&gt;&gt;</span> RDS(<span class="st">"userdb"</span>) <span class="op">&lt;&lt;</span> EC2(<span class="st">"stat"</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    (ELB(<span class="st">"lb"</span>) <span class="op">&gt;&gt;</span> EC2(<span class="st">"web"</span>)) <span class="op">-</span> EC2(<span class="st">"web"</span>) <span class="op">&gt;&gt;</span> RDS(<span class="st">"userdb"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/d499759e-973e-493a-9040-60eaa0cd2c71-2-web_services.png" class="img-fluid figure-img"></p>
<figcaption>web_services.png</figcaption>
</figure>
</div>
<p><strong>Note:</strong> Be careful when using ‘-’ and any shift operators together. It can cause unexpected results due to Python’s operator precedence, so you might have to use parentheses.</p>
<p>The Data Flow direction can be changed with the direction parameter. The default is LR.</p>
<p>Allowed values are: TB, BT, LR, and RL</p>
<div id="90bf3dc2-8cd7-4d98-898b-f6bba2d92a7d" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Workers"</span>, show<span class="op">=</span><span class="va">False</span>, direction<span class="op">=</span><span class="st">"TB"</span>):</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">=</span> ELB(<span class="st">"lb"</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    db <span class="op">=</span> RDS(<span class="st">"events"</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">&gt;&gt;</span> EC2(<span class="st">"worker1"</span>) <span class="op">&gt;&gt;</span> db</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">&gt;&gt;</span> EC2(<span class="st">"worker2"</span>) <span class="op">&gt;&gt;</span> db</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">&gt;&gt;</span> EC2(<span class="st">"worker3"</span>) <span class="op">&gt;&gt;</span> db</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">&gt;&gt;</span> EC2(<span class="st">"worker4"</span>) <span class="op">&gt;&gt;</span> db</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">&gt;&gt;</span> EC2(<span class="st">"worker5"</span>) <span class="op">&gt;&gt;</span> db</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/7cd10601-2213-4a8f-beb5-3159a1c93a65-1-workers.png" class="img-fluid figure-img"></p>
<figcaption>workers.png</figcaption>
</figure>
</div>
<p>****Group Data Flow****</p>
<p>To avoid too many reduntant flows, you can group nodes into a list so that all nodes are connected to other nodes at once:</p>
<div id="fbfac22c-08ff-4886-b1a5-c3c446e7d598" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Grouped Workers"</span>, show<span class="op">=</span><span class="va">False</span>, direction<span class="op">=</span><span class="st">"TB"</span>):</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    ELB(<span class="st">"lb"</span>) <span class="op">&gt;&gt;</span> [EC2(<span class="st">"worker1"</span>),</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                  EC2(<span class="st">"worker2"</span>),</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>                  EC2(<span class="st">"worker3"</span>),</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>                  EC2(<span class="st">"worker4"</span>),</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>                  EC2(<span class="st">"worker5"</span>)] <span class="op">&gt;&gt;</span> RDS(<span class="st">"events"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/6c209fc3-adcb-40ef-b0ab-28d709617fb7-1-grouped_workers.png" class="img-fluid figure-img"></p>
<figcaption>grouped_workers.png</figcaption>
</figure>
</div>
<p><strong>Note:</strong> You can’t connect two lists directly because shift/arithmetic operations between lists are not allowed in Python.</p>
<p><strong>3. Cluster:</strong> A cluster is nothing but a set of nodes that we want together. A cluster is defined using the cluster context and any node defined under that context is grouped together. You can also give it a name to define your cluster group. You can also nest clusters under clusters.</p>
<div id="1c21af9c-ee95-4df1-a69d-97bbe87bfcdd" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Cluster, Diagram</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> ECS</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> Route53</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Simple Web Service with DB Cluster"</span>, show<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    dns <span class="op">=</span> Route53(<span class="st">"dns"</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    web <span class="op">=</span> ECS(<span class="st">"service"</span>)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"DB Cluster"</span>):</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>        db_primary <span class="op">=</span> RDS(<span class="st">"primary"</span>)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>        db_primary <span class="op">-</span> [RDS(<span class="st">"replica1"</span>),</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>                     RDS(<span class="st">"replica2"</span>)]</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    dns <span class="op">&gt;&gt;</span> web <span class="op">&gt;&gt;</span> db_primary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/0cd4e6ec-a4d8-4464-bb3d-488f8b038b23-1-simple_web_service_with_db_cluster.png" class="img-fluid figure-img"></p>
<figcaption>simple_web_service_with_db_cluster.png</figcaption>
</figure>
</div>
<p>****Nested Cluster:****</p>
<div id="640ea23c-da7d-4461-8e58-d5e54edfc8f0" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Cluster, Diagram</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> ECS, EKS, Lambda</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> Redshift</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.integration <span class="im">import</span> SQS</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.storage <span class="im">import</span> S3</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Event Processing"</span>, show<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    source <span class="op">=</span> EKS(<span class="st">"k8s source"</span>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Event Flows"</span>):</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> Cluster(<span class="st">"Event Workers"</span>):</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>            workers <span class="op">=</span> [ECS(<span class="st">"worker1"</span>),</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>                       ECS(<span class="st">"worker2"</span>),</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>                       ECS(<span class="st">"worker3"</span>)]</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>        queue <span class="op">=</span> SQS(<span class="st">"event queue"</span>)</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> Cluster(<span class="st">"Processing"</span>):</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>            handlers <span class="op">=</span> [Lambda(<span class="st">"proc1"</span>),</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>                        Lambda(<span class="st">"proc2"</span>),</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>                        Lambda(<span class="st">"proc3"</span>)]</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    store <span class="op">=</span> S3(<span class="st">"events store"</span>)</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    dw <span class="op">=</span> Redshift(<span class="st">"analytics"</span>)</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>    source <span class="op">&gt;&gt;</span> workers <span class="op">&gt;&gt;</span> queue <span class="op">&gt;&gt;</span> handlers</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>    handlers <span class="op">&gt;&gt;</span> store</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    handlers <span class="op">&gt;&gt;</span> dw</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/6379e5a6-e9dc-44db-9ee3-da140b52d990-1-event_processing.png" class="img-fluid figure-img"></p>
<figcaption>event_processing.png</figcaption>
</figure>
</div>
<p><strong>4. Edge:</strong> Edge is an object representing a connection between nodes with some additional properties.You can set the colour, label, and style of your edge that connects your nodes. An edge object contains three attributes: label, color, and style. They mirror the corresponding Graphviz edge attributes.</p>
<div id="f1d74352-5f26-43d3-a459-9584ca429b32" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Edge</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.storage <span class="im">import</span> S3</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.compute <span class="im">import</span> Server</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.analytics <span class="im">import</span> Redshift</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"My Design Diagram"</span>) :</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    DataService <span class="op">=</span> Server(<span class="st">"Data Service"</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    S3Storage <span class="op">=</span> S3(<span class="st">"S3 Bucket"</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    MasterDB <span class="op">=</span> Redshift(<span class="st">"Redshift DW"</span>)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    DataService <span class="op">&gt;&gt;</span> Edge(label<span class="op">=</span><span class="st">"Sending data to S3"</span>) <span class="op">&gt;&gt;</span> S3Storage </span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    S3Storage <span class="op">&gt;&gt;</span> Edge(label<span class="op">=</span><span class="st">"Copying data to Redshift"</span>) <span class="op">&gt;&gt;</span> MasterDB</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/42244411-e443-42e2-a0c0-7fcd463cb022-1-my_design_diagram.png" class="img-fluid figure-img"></p>
<figcaption>my_design_diagram.png</figcaption>
</figure>
</div>
<div id="fba2e937-2bed-4ba3-8d46-78ebf6850277" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Cluster, Diagram, Edge</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.analytics <span class="im">import</span> Spark</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.compute <span class="im">import</span> Server</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.database <span class="im">import</span> PostgreSQL</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.inmemory <span class="im">import</span> Redis</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.aggregator <span class="im">import</span> Fluentd</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.monitoring <span class="im">import</span> Grafana, Prometheus</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.network <span class="im">import</span> Nginx</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.queue <span class="im">import</span> Kafka</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(name<span class="op">=</span><span class="st">"Advanced Web Service with On-Premises (colored)"</span>, show<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    ingress <span class="op">=</span> Nginx(<span class="st">"ingress"</span>)</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    metrics <span class="op">=</span> Prometheus(<span class="st">"metric"</span>)</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>    metrics <span class="op">&lt;&lt;</span> Edge(color<span class="op">=</span><span class="st">"firebrick"</span>, style<span class="op">=</span><span class="st">"dashed"</span>) <span class="op">&lt;&lt;</span> Grafana(<span class="st">"monitoring"</span>)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Service Cluster"</span>):</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>        grpcsvc <span class="op">=</span> [</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>            Server(<span class="st">"grpc1"</span>),</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>            Server(<span class="st">"grpc2"</span>),</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>            Server(<span class="st">"grpc3"</span>)]</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Sessions HA"</span>):</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>        primary <span class="op">=</span> Redis(<span class="st">"session"</span>)</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>        primary <span class="op">\</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>            <span class="op">-</span> Edge(color<span class="op">=</span><span class="st">"brown"</span>, style<span class="op">=</span><span class="st">"dashed"</span>) <span class="op">\</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>            <span class="op">-</span> Redis(<span class="st">"replica"</span>) <span class="op">\</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;&lt;</span> Edge(label<span class="op">=</span><span class="st">"collect"</span>) <span class="op">\</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;&lt;</span> metrics</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>        grpcsvc <span class="op">&gt;&gt;</span> Edge(color<span class="op">=</span><span class="st">"brown"</span>) <span class="op">&gt;&gt;</span> primary</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Database HA"</span>):</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>        primary <span class="op">=</span> PostgreSQL(<span class="st">"users"</span>)</span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>        primary <span class="op">\</span></span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>            <span class="op">-</span> Edge(color<span class="op">=</span><span class="st">"brown"</span>, style<span class="op">=</span><span class="st">"dotted"</span>) <span class="op">\</span></span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>            <span class="op">-</span> PostgreSQL(<span class="st">"replica"</span>) <span class="op">\</span></span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;&lt;</span> Edge(label<span class="op">=</span><span class="st">"collect"</span>) <span class="op">\</span></span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>            <span class="op">&lt;&lt;</span> metrics</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>        grpcsvc <span class="op">&gt;&gt;</span> Edge(color<span class="op">=</span><span class="st">"black"</span>) <span class="op">&gt;&gt;</span> primary</span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>    aggregator <span class="op">=</span> Fluentd(<span class="st">"logging"</span>)</span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>    aggregator <span class="op">\</span></span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a>        <span class="op">&gt;&gt;</span> Edge(label<span class="op">=</span><span class="st">"parse"</span>) <span class="op">\</span></span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a>        <span class="op">&gt;&gt;</span> Kafka(<span class="st">"stream"</span>) <span class="op">\</span></span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>        <span class="op">&gt;&gt;</span> Edge(color<span class="op">=</span><span class="st">"black"</span>, style<span class="op">=</span><span class="st">"bold"</span>) <span class="op">\</span></span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a>        <span class="op">&gt;&gt;</span> Spark(<span class="st">"analytics"</span>)</span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a>    ingress <span class="op">\</span></span>
<span id="cb24-49"><a href="#cb24-49" aria-hidden="true" tabindex="-1"></a>        <span class="op">&gt;&gt;</span> Edge(color<span class="op">=</span><span class="st">"darkgreen"</span>) <span class="op">\</span></span>
<span id="cb24-50"><a href="#cb24-50" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;&lt;</span> grpcsvc <span class="op">\</span></span>
<span id="cb24-51"><a href="#cb24-51" aria-hidden="true" tabindex="-1"></a>        <span class="op">&gt;&gt;</span> Edge(color<span class="op">=</span><span class="st">"darkorange"</span>) <span class="op">\</span></span>
<span id="cb24-52"><a href="#cb24-52" aria-hidden="true" tabindex="-1"></a>        <span class="op">&gt;&gt;</span> aggregator</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/aa83000e-71b1-453c-b7ee-1621a1adfb86-1-advanced_web_service_with_on-premises_(colored).png" class="img-fluid figure-img"></p>
<figcaption>advanced_web_service_with_on-premises_(colored).png</figcaption>
</figure>
</div>
<p>Now, let’s move forward to understand the relationships between Nodes.</p>
<p><strong>Directed Relationship:</strong> This means a node is pointing towards the next one. Without using edge, you can just use the “&gt;&gt;” operator for this and an arrow will be created between your nodes.</p>
<p><strong>Synergic Relationship:</strong> This is to define nodes that work together as a single unit. You can define this by using the “-” operator between nodes.</p>
<div id="fb277854-e75d-4604-87f4-70b9e779ed14" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Edge, Cluster</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.storage <span class="im">import</span> S3</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.compute <span class="im">import</span> Server</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.analytics <span class="im">import</span> Redshift</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> LambdaFunction <span class="im">as</span> Lambda</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"My Design Diagram"</span>) :</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    DataService <span class="op">=</span> Server(<span class="st">"Data Service"</span>)</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">'S3 Buckets'</span>) :</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>        S3Storage <span class="op">=</span> [S3(<span class="ss">f"S3 Bucket_</span><span class="sc">{</span>n<span class="sc">}</span><span class="ss">"</span>) <span class="cf">for</span> n <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">4</span>)]</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">'Lambda Process'</span>):</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>        Lambdas <span class="op">=</span> [Lambda(<span class="ss">f"LambdaFunction_</span><span class="sc">{</span>n<span class="sc">}</span><span class="ss">"</span>) <span class="cf">for</span> n <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">4</span>)]</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> n <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>,<span class="dv">2</span>):</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>            Lambdas[n] <span class="op">-</span> Lambdas[n<span class="op">+</span><span class="dv">1</span>]</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>    MasterDB <span class="op">=</span> Redshift(<span class="st">"Redshift DW"</span>)</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>    DataService <span class="op">&gt;&gt;</span> Edge(label<span class="op">=</span><span class="st">"Sending data to S3"</span>) <span class="op">&gt;&gt;</span> S3Storage</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>    S3Storage <span class="op">&gt;&gt;</span> Edge(label<span class="op">=</span><span class="st">"Copying data to Redshift"</span>) <span class="op">&gt;&gt;</span> MasterDB</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>    MasterDB <span class="op">&gt;&gt;</span> Lambdas</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/d0488473-9126-49e9-913e-b5d6d18ecaeb-1-my_design_diagram.png" class="img-fluid figure-img"></p>
<figcaption>my_design_diagram.png</figcaption>
</figure>
</div>
<p>Here we have defined the relationship between the lambda function using the ‘-’ operator and so they are now in synergic relationshi and work together inside the cluster. It can be seen from here that how the Redshift DW directed to the Lambda functions without any text defining a directed relationship by just using the ‘&gt;&gt;’ operator without any Edge.</p>
<p><strong><em>Advanced Features &amp; Customizations</em></strong></p>
<p>Now that you’ve covered the basics (Diagram, Nodes, Edges, Clusters, and Relationships), let’s introduce more customization options. One of the standout features of the Diagrams library is its simple and intuitive Python syntax.Diagrams allows users to define infrastructure, system architecture, and cloud diagrams using concise Python code. These are the key features of the Diagram library:</p>
<p><strong>1. Customizing Node Styles:</strong> Diagrams allow you to customize node styles, including color, shape, and icons, to enhance clarity and visual appeal.</p>
<div id="eafd5102-6e07-4aa9-b243-aa8886272892" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Custom Styled Nodes"</span>, show<span class="op">=</span><span class="va">True</span>, direction<span class="op">=</span><span class="st">"TB"</span>):</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">=</span> ELB(<span class="st">"Load Balancer"</span>)  <span class="co"># Default AWS icon</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    web <span class="op">=</span> EC2(<span class="st">"Web Server"</span>)  <span class="co"># EC2 icon</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    db <span class="op">=</span> RDS(<span class="st">"Database"</span>)  <span class="co"># Database icon</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">-</span> [web] <span class="op">-</span> db  <span class="co"># Defining connections</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/40250337-5701-4455-8ee0-0164e697b3a6-1-custom_styled_nodes.png" class="img-fluid figure-img"></p>
<figcaption>custom_styled_nodes.png</figcaption>
</figure>
</div>
<p><strong>2. Using Subgraphs for Better Organization:</strong> Subgraphs (Clusters) help group related components in a diagram, making it easier to understand complex systems.</p>
<div id="36fbf05e-f0df-45a7-8590-8a31ed67c1e8" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Cluster</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Grouped Architecture"</span>, show<span class="op">=</span><span class="va">True</span>, direction<span class="op">=</span><span class="st">"TB"</span>):</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">=</span> ELB(<span class="st">"Load Balancer"</span>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Application Servers"</span>):</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>        web1 <span class="op">=</span> EC2(<span class="st">"Web Server 1"</span>)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>        web2 <span class="op">=</span> EC2(<span class="st">"Web Server 2"</span>)</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    db <span class="op">=</span> RDS(<span class="st">"Database"</span>)</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">-</span> [web1, web2] <span class="op">-</span> db  <span class="co"># Connecting nodes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/cf25960d-9bae-4eaf-96e5-9f60367df784-1-grouped_architecture.png" class="img-fluid figure-img"></p>
<figcaption>grouped_architecture.png</figcaption>
</figure>
</div>
<p><strong>3. Arranging Layouts:</strong> By default, Diagrams arranges components top to bottom (TB), but you can customize it using direction attributes:</p>
<ul>
<li><p>TB (Top to Bottom)</p></li>
<li><p>LR (Left to Right)</p></li>
<li><p>BT (Bottom to Top)</p></li>
<li><p>RL (Right to Left)</p></li>
</ul>
<p>Example : Left-to-Right (LR) Layout</p>
<div id="88f178ac-e604-4ec9-8cc5-01f7e60d4783" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Left to Right Layout"</span>, direction<span class="op">=</span><span class="st">"LR"</span>, show<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">=</span> ELB(<span class="st">"Load Balancer"</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    web <span class="op">=</span> EC2(<span class="st">"Web Server"</span>)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    db <span class="op">=</span> RDS(<span class="st">"Database"</span>)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">&gt;&gt;</span> web <span class="op">&gt;&gt;</span> db  <span class="co"># Flow from left to right</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/aee32467-5cd1-4693-9583-10b01d3614ca-1-left_to_right_layout.png" class="img-fluid figure-img"></p>
<figcaption>left_to_right_layout.png</figcaption>
</figure>
</div>
<p><strong>4. Adding Custom Icons and Images:</strong> By default, Diagrams uses built-in icons, but you can use custom images for non-supported components.</p>
<div id="ecdfc3cf-9ae7-4c7e-a129-9104e0d6a7a7" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.custom <span class="im">import</span> Custom</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Custom Icon Example"</span>, show<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    my_service <span class="op">=</span> Custom(<span class="st">"My Service"</span>, <span class="st">"./my_icon.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/544aa322-9a9f-44a6-9bba-dd87d71c8faa-1-custom_icon_example.png" class="img-fluid figure-img"></p>
<figcaption>custom_icon_example.png</figcaption>
</figure>
</div>
<p><strong>5. Defining Complex Relationships (Bidirectional &amp; Conditional Arrows):</strong> This helps represent data flow, feedback loops, and interdependencies.</p>
<div id="f94602a4-e40b-4461-81aa-49074e9e5a6c" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Complex Relationships"</span>, show<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">=</span> ELB(<span class="st">"Load Balancer"</span>)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    web <span class="op">=</span> EC2(<span class="st">"Web Server"</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    db <span class="op">=</span> RDS(<span class="st">"Database"</span>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">&gt;&gt;</span> web  <span class="co"># One-way connection</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    web <span class="op">&gt;&gt;</span> db  <span class="co"># One-way connection</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    db <span class="op">&lt;&lt;</span> web  <span class="co"># Bidirectional connection (data flow)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/fab70b69-6f0d-477b-8787-11045c4be639-1-complex_relationships.png" class="img-fluid figure-img"></p>
<figcaption>complex_relationships.png</figcaption>
</figure>
</div>
<p><strong>6. Using Different Providers (AWS, GCP, Azure, On-Premises):</strong> Diagrams supports multiple cloud providers and on-premises infrastructure.</p>
<div id="7fe92dc8-8355-435a-a52f-fab303540066" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.azure.compute <span class="im">import</span> AppServices</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.gcp.compute <span class="im">import</span> GCE</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.database <span class="im">import</span> PostgreSQL</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Multi-Cloud Setup"</span>, show<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    aws_vm <span class="op">=</span> EC2(<span class="st">"AWS EC2"</span>)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    azure_func <span class="op">=</span> AppServices(<span class="st">"Azure App Service"</span>)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    gcp_vm <span class="op">=</span> GCE(<span class="st">"GCP Compute Engine"</span>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    onprem_db <span class="op">=</span> PostgreSQL(<span class="st">"On-Prem Database"</span>)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    aws_vm <span class="op">&gt;&gt;</span> azure_func <span class="op">&gt;&gt;</span> gcp_vm <span class="op">&gt;&gt;</span> onprem_db</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PSDV Assignment Blog_files/figure-html/e8bb5d20-7f9c-4cc7-91eb-ccc363cc4bad-1-multi-cloud_setup.png" class="img-fluid figure-img"></p>
<figcaption>multi-cloud_setup.png</figcaption>
</figure>
</div>
<p><strong>7. Prebuilt Cloud and On-Prem Components :</strong> The Diagrams library provides prebuilt cloud and on-prem components that allow users to easily create infrastructure diagrams without designing custom icons or shapes. These components represent various cloud services, networking elements, storage, databases, and security tools from providers like AWS,Azure, Google Cloud, and on-prem architectures.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 77%">
</colgroup>
<thead>
<tr class="header">
<th>Category</th>
<th>Supported Services</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cloud Providers</td>
<td>AWS, Azure, GCP, OpenStack, Alibaba Cloud</td>
</tr>
<tr class="even">
<td>DevOps Tools</td>
<td>Kubernetes, Terraform, Jenkins, GitHub Actions</td>
</tr>
<tr class="odd">
<td>Networking</td>
<td>Cisco, F5, Juniper routers and firewalls</td>
</tr>
<tr class="even">
<td>On-Premise</td>
<td>Generic servers, databases, load balancers</td>
</tr>
</tbody>
</table>
<p><strong>8. Exporting and Saving Diagrams:</strong> Once you create a diagram using the Diagrams(mingrammer/diagrams) library, you may need to export, save, or share it in different formats. The library automatically generates an image file when the diagram script runs, but you can customize the output file format,location, and visualization options. Example: Save as SVG</p>
<div id="f98939f5-97f3-4bb2-a771-487aa1715504" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Custom_Diagram"</span>, filename<span class="op">=</span><span class="st">"my_diagram"</span>, outformat<span class="op">=</span><span class="st">"svg"</span>):</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    EC2(<span class="st">"Web Server"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Summary of Advanced Features</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>Description &amp; Use Case</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Custom Icons</strong></td>
<td>Use custom images for branding or non-supported tools.</td>
</tr>
<tr class="even">
<td><strong>Relationships</strong></td>
<td>Define one-way, bidirectional, and feedback loop connections.</td>
</tr>
<tr class="odd">
<td><strong>Multi-Cloud Support</strong></td>
<td>Connect AWS, Azure, GCP, and on-prem services.</td>
</tr>
<tr class="even">
<td><strong>Exporting Diagrams</strong></td>
<td>Save diagrams as PNG, SVG, PDF, or JPG.</td>
</tr>
<tr class="odd">
<td><strong>CI/CD Integration</strong></td>
<td>Automate diagram generation in pipelines.</td>
</tr>
</tbody>
</table>
<p><strong><em>Best Practices &amp; Tips for Creating Diagrams:</em></strong></p>
<ul>
<li><p>Keep it Simple – Avoid overcrowding diagrams with unnecessary components.</p></li>
<li><p>Use Clusters – Organize diagrams into meaningful groups.</p></li>
<li><p>Label Components Properly – Use descriptive names for better clarity.</p></li>
<li><p>Use Version Control – Store diagrams in GitHub to track changes over time.</p></li>
<li><p>Optimize Layouts – Choose the best direction (TB, LR, RL, BT) for readability.</p></li>
</ul>
<p><strong><em>Real world Use-Cases</em></strong></p>
<p><strong>1. Cloud Architecture Visualization</strong> - Helps in designing and documenting cloud architectures across platforms like AWS, GCP, Azure, Kubernetes, Alibaba Cloud and Oracle Cloud.</p>
<ul>
<li><p>Example – Generates AWS network topology diagrams programmatically.</p></li>
<li></li>
<li><p>Benefits: Automates cloud architecture documentation, ensuring up-to-date diagrams.</p></li>
</ul>
<p><strong>2. Software System Design</strong> - Engineers and architects can expertly create flowcharts for software modules, microservices, and APIs.</p>
<ul>
<li><p>Example: Clearly representing data flow in a microservices-based application.</p></li>
<li></li>
<li><p>Benefits: Provides clear system design documentation.</p></li>
</ul>
<p><strong>3. Hybrid Cloud and Multi-Cloud Architecture</strong> - Helps architects visualize hybrid cloud (on-prem + cloud) and multi-cloud (AWS + GCP + Azure) environments.</p>
<ul>
<li><p>Example: Hybrid cloud infrastructure with AWS and on-premises resources.</p></li>
<li><p>Benefits: Helps organizations design failover and disaster recovery plans.</p></li>
</ul>
<p><strong>4. Security Architecture Visualization</strong> - Useful for compliance and security reviews (ISO, NIST, SOC2). - - Example: Security Architecture for a Web Application. - - Benefits: Helps organizations comply with security policies and audits (ISO, SOC2, NIST).</p>
<p><strong><em>References</em></strong></p>
<ol type="1">
<li><strong>mingrammer/diagrams GitHub Repository</strong></li>
</ol>
<ul>
<li><p>URL: https://github.com/mingrammer/diagrams</p></li>
<li><p>Description: Official GitHub repository with source code, examples, and documentation.</p></li>
</ul>
<ol start="2" type="1">
<li><strong>mingrammer/diagrams Documentation</strong></li>
</ol>
<ul>
<li><p>URL: https://diagrams.mingrammer.com</p></li>
<li><p>Description: Official documentation explaining installation and usage.</p></li>
</ul>
<ol start="3" type="1">
<li><strong>YouTube – Python Diagrams for DevOps and Cloud Architecture</strong></li>
</ol>
<ul>
<li>https://youtu.be/Oa-_EUg44cQ?feature=shared</li>
</ul>
<p><strong><em>Conclusion:</em></strong></p>
<ul>
<li>The mingrammer/diagrams library stands out as a powerful and versatile tool designed for users who need to create diagrams related to infrastructure, software, and networks using Python code.</li>
<li>This library offers a significant advantage over traditional diagramming tools like Microsoft Visio or Draw.io by automating the diagramming process.</li>
<li>As a result, it ensures that the system architecture remains consistent, up-to-date, and easily version-controlled, providing a streamlined approach to diagram creation.</li>
</ul>
<p><strong><em>Challenges:</em></strong></p>
<ul>
<li><p>Requires basic Python knowledge for scripting diagrams.</p></li>
<li><p>Limited styling options compared to UI-based tools.</p></li>
<li><p>Unlike Google Drawings or Miro, diagrams lacks real-time team collaboration features.</p></li>
</ul>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/PriyankaR1605\.github\.io\/Exposition-Assignment-PSDV\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>